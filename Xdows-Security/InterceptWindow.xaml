<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Xdows_Security.InterceptWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
            CornerRadius="12" 
            BorderThickness="1"
            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
            Padding="20">
        <StackPanel>
            <Grid Margin="0,0,0,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="#FFF5F5" CornerRadius="8" Width="48" Height="48" Margin="0,0,12,0">
                    <FontIcon Glyph="&#xE783;" FontSize="24" Foreground="#D32F2F" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>

                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="ThreatTitleText" Text="检测到安全威胁" FontSize="18" FontWeight="SemiBold" Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
                    <TextBlock x:Name="ThreatSubtitleText" Text="已拦截可疑程序，请立即处理" FontSize="13" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" Margin="0,3,0,0"/>
                </StackPanel>
            </Grid>

            <Border Background="{ThemeResource LayerFillColorDefaultBrush}" CornerRadius="8" Padding="14" Margin="0,0,0,12" BorderThickness="1" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}" CornerRadius="6" Width="40" Height="40" Margin="0,0,12,0">
                        <Image x:Name="ProgramIcon" Stretch="Uniform" Width="28" Height="28"/>
                    </Border>

                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock x:Name="ProgramNameText" FontSize="14" FontWeight="SemiBold" Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
                        <TextBlock x:Name="FilePathText" FontSize="11" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" Margin="0,3,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </Grid>
            </Border>

            <Grid Margin="0,0,0,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="#FFF3E0" CornerRadius="8" Padding="12" Margin="0,0,6,0" BorderThickness="1" BorderBrush="#FFB74D">
                    <StackPanel>
                        <TextBlock Text="威胁类型" FontSize="11" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock x:Name="ThreatTypeText" Text="木马程序" FontSize="13" FontWeight="SemiBold" Foreground="#E65100" Margin="0,3,0,0"/>
                    </StackPanel>
                </Border>

                <Border Grid.Column="1" Background="#FFEBEE" CornerRadius="8" Padding="12" Margin="6,0,0,0" BorderThickness="1" BorderBrush="#EF5350">
                    <StackPanel>
                        <TextBlock Text="威胁等级" FontSize="11" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock x:Name="ThreatLevelText" Text="高危" FontSize="13" FontWeight="SemiBold" Foreground="#D32F2F" Margin="0,3,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>

            <Border Background="#E8F5E9" CornerRadius="8" Padding="12" Margin="0,0,0,12" BorderThickness="1" BorderBrush="#66BB6A">
                <StackPanel>
                    <TextBlock Text="拦截时间" FontSize="11" Foreground="#2E7D32" FontWeight="Medium"/>
                    <TextBlock x:Name="DetectionTimeText" FontSize="13" Foreground="#1B5E20" Margin="0,3,0,0"/>
                </StackPanel>
            </Border>

            <Border Background="#E3F2FD" CornerRadius="8" Padding="12" Margin="0,0,0,16" BorderThickness="1" BorderBrush="#42A5F5">
                <StackPanel>
                    <TextBlock Text="安全建议" FontSize="11" Foreground="#1565C0" FontWeight="Medium"/>
                    <TextBlock x:Name="SecurityAdviceText" Text="建议立即隔离该文件，防止恶意程序继续运行" FontSize="12" Foreground="#0D47A1" Margin="0,3,0,0" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" 
                        x:Name="TrustButton"
                        Content="信任" 
                        Width="160" 
                        Height="36" 
                        Margin="0,0,8,0"
                        Click="TrustButton_Click"
                        HorizontalAlignment="Stretch"/>

                <Button Grid.Column="1" 
                        x:Name="ConfirmButton"
                        Content="确定" 
                        Width="160" 
                        Height="36" 
                        Margin="8,0,0,0"
                        Click="ConfirmButton_Click"
                        HorizontalAlignment="Stretch"
                        Style="{StaticResource AccentButtonStyle}"/>
            </Grid>
        </StackPanel>
    </Border>
</Window>
