<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Xdows_Security.InterceptWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="发现威胁">
    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>
    <Grid RowSpacing="16" Padding="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Spacing="4">
            <TextBlock Text="发现威胁，建议立即清除！"
                       Style="{ThemeResource TitleTextBlockStyle}"/>
            <TextBlock Text="已成功拦截可疑程序，请立即处理"
                       Style="{ThemeResource CaptionTextBlockStyle}"
                       Opacity="0.7"/>
        </StackPanel>

        <ScrollViewer Grid.Row="2">
            <Grid RowSpacing="12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0"
            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
            BorderThickness="1"
            CornerRadius="8"
            Padding="16">
                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0" Width="32" Height="32"
                   x:Name="FileIcon" Stretch="Uniform"/>
                        <StackPanel Grid.Column="1" Spacing="4">
                            <TextBlock x:Name="ProcessName"
                           Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                            <TextBlock x:Name="ProcessPath"
                           Style="{ThemeResource BodyTextBlockStyle}"
                           TextWrapping="Wrap"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <Grid Grid.Row="1" ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16">
                        <StackPanel Spacing="4">
                            <TextBlock Text="修改日期"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Opacity="0.7"/>
                            <TextBlock x:Name="ModifyDate"
                           Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="1"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16">
                        <StackPanel Spacing="4">
                            <TextBlock Text="扫描引擎"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Opacity="0.7"/>
                            <TextBlock Text="SouXiao Engine"
                           Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        </StackPanel>
                    </Border>
                </Grid>
                <Border Grid.Row="3"
            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
            BorderThickness="1"
            CornerRadius="8"
            Padding="16">
                    <StackPanel Spacing="4">
                        <TextBlock Text="安全建议"
                       Style="{ThemeResource CaptionTextBlockStyle}"
                       Opacity="0.7"/>
                        <TextBlock x:Name="SecurityAdvice"
                       Style="{ThemeResource BodyTextBlockStyle}"
                       TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>
            </Grid>
        </ScrollViewer>

        <Grid Grid.Row="3" ColumnSpacing="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                       Text="请选择处理方式："
                       Style="{ThemeResource BodyTextBlockStyle}"
                       VerticalAlignment="Center"/>
            <DropDownButton Name="ScanButton" Grid.Column="1" Style="{ThemeResource AccentButtonStyle}">
                <StackPanel Orientation="Horizontal" Spacing="4">
                    <FontIcon Glyph="&#xEA18;" FontSize="16"/>
                    <TextBlock Text="执行操作"/>
                </StackPanel>
                <DropDownButton.Flyout>
                    <MenuFlyout Placement="Bottom">
                        <MenuFlyoutItem Text="删除文件" Tag="Delete" Click="MenuFlyoutItem_Click">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE74D;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem Text="恢复文件" Tag="Restore" Click="MenuFlyoutItem_Click">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE7A7;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator/>
                        <MenuFlyoutItem IsEnabled="False" Text="关闭防护" Tag="Disable" Click="MenuFlyoutItem_Click">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xF78A;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                    </MenuFlyout>
                </DropDownButton.Flyout>
            </DropDownButton>
        </Grid>
    </Grid>
</Window>