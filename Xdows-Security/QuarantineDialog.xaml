<ContentDialog
    x:Class="Xdows_Security.QuarantineDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TrustQuarantine"
    Title="隔离区"
    PrimaryButtonText="关闭"
    DefaultButton="Primary"
    CornerRadius="8">

    <StackPanel>
        <ListView x:Name="QuarantineListView"
                  SelectionMode="Multiple"
                  Margin="0,0,0,12">
            <ListView.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutItem Text="恢复" Click="RestoreButton_Click"/>
                    <MenuFlyoutItem Text="删除" Click="DeleteMenuItem_Click"/>
                    <MenuFlyoutSeparator/>
                    <MenuFlyoutItem Text="添加" Click="AddMenuItem_Click"/>
                    <MenuFlyoutItem Text="清空" Click="ClearMenuItem_Click"/>
                </MenuFlyout>
            </ListView.ContextFlyout>

            <ListView.ItemTemplate>
                <DataTemplate x:DataType="local:QuarantineItemModel">
                    <StackPanel Spacing="2" Padding="8,6">
                        <TextBlock Text="{Binding SourcePath}" TextWrapping="WrapWholeWords"/>
                        <TextBlock Text="{Binding FileHash}"
                                   FontSize="10"
                                   Opacity="0.75"
                                   IsTextSelectionEnabled="True"
                                   TextWrapping="NoWrap"/>
                        <TextBlock Text="{Binding ThreatName}"
                                   FontSize="12"
                                   Opacity="0.8"
                                   TextWrapping="NoWrap"/>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="6">
            <Button Content="恢复" Click="RestoreButton_Click"/>
            <Button Content="删除" Click="DeleteMenuItem_Click"/>
            <Button Content="添加" Click="AddButton_Click"/>
            <Button Content="清空" Click="ClearButton_Click"/>
        </StackPanel>
    </StackPanel>
</ContentDialog>
